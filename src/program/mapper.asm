;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Mapper ;; MMC3
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

MMC3_CHR_SPRITE_A     = $00 ;; MMC3_STORE_A1 + MMC3_STORE_A2
MMC3_CHR_SPRITE_B     = $01 ;; MMC3_STORE_A3 + MMC3_STORE_A4
MMC3_CHR_BACKGROUND_A = $02 ;; MMC3_STORE_A5
MMC3_CHR_BACKGROUND_B = $03 ;; MMC3_STORE_A6
MMC3_CHR_BACKGROUND_C = $04 ;; MMC3_STORE_A7
MMC3_CHR_BACKGROUND_D = $05 ;; MMC3_STORE_A8

;; 8KB CHR ROM - BANK A
MMC3_STORE_A1 = $00
MMC3_STORE_A2 = $01
MMC3_STORE_A3 = $02
MMC3_STORE_A4 = $03
MMC3_STORE_A5 = $04
MMC3_STORE_A6 = $05
MMC3_STORE_A7 = $06
MMC3_STORE_A8 = $07

;; 8KB CHR ROM - BANK B
MMC3_STORE_B1 = $08
MMC3_STORE_B2 = $09
MMC3_STORE_B3 = $0A
MMC3_STORE_B4 = $0B
MMC3_STORE_B5 = $0C
MMC3_STORE_B6 = $0D
MMC3_STORE_B7 = $0E
MMC3_STORE_B8 = $0F

;; 8KB CHR ROM - BANK C
MMC3_STORE_C1 = $10
MMC3_STORE_C2 = $11
MMC3_STORE_C3 = $12
MMC3_STORE_C4 = $13
MMC3_STORE_C5 = $14
MMC3_STORE_C6 = $15
MMC3_STORE_C7 = $16
MMC3_STORE_C8 = $17

;; 8KB CHR ROM - BANK E
MMC3_STORE_E1 = $18
MMC3_STORE_E2 = $19
MMC3_STORE_E3 = $1A
MMC3_STORE_E4 = $1B
MMC3_STORE_E5 = $1C
MMC3_STORE_E6 = $1D
MMC3_STORE_E7 = $1E
MMC3_STORE_E8 = $1F

;; 8KB CHR ROM - BANK F
MMC3_STORE_F1 = $20
MMC3_STORE_F2 = $21
MMC3_STORE_F3 = $22
MMC3_STORE_F4 = $23
MMC3_STORE_F5 = $24
MMC3_STORE_F6 = $25
MMC3_STORE_F7 = $26
MMC3_STORE_F8 = $27

;; 8KB CHR ROM - BANK G
MMC3_STORE_G1 = $28
MMC3_STORE_G2 = $29
MMC3_STORE_G3 = $2A
MMC3_STORE_G4 = $2B
MMC3_STORE_G5 = $2C
MMC3_STORE_G6 = $2D
MMC3_STORE_G7 = $2E
MMC3_STORE_G8 = $2F

;; 8KB CHR ROM - BANK H
MMC3_STORE_H1 = $30
MMC3_STORE_H2 = $31
MMC3_STORE_H3 = $32
MMC3_STORE_H4 = $33
MMC3_STORE_H5 = $34
MMC3_STORE_H6 = $35
MMC3_STORE_H7 = $36
MMC3_STORE_H8 = $37

;; 8KB CHR ROM - BANK I
MMC3_STORE_I1 = $38
MMC3_STORE_I2 = $39
MMC3_STORE_I3 = $3A
MMC3_STORE_I4 = $3B
MMC3_STORE_I5 = $3C
MMC3_STORE_I6 = $3D
MMC3_STORE_I7 = $3E
MMC3_STORE_I8 = $3F

MAPSetCHRBankTitle:
  MMC3SetCHRBank #MMC3_CHR_BACKGROUND_A, #MMC3_STORE_A5
  MMC3SetCHRBank #MMC3_CHR_BACKGROUND_B, #MMC3_STORE_A6
  RTS

MAPSetCHRBankTitleAlt:
  MMC3SetCHRBank #MMC3_CHR_BACKGROUND_A, #MMC3_STORE_A7
  MMC3SetCHRBank #MMC3_CHR_BACKGROUND_B, #MMC3_STORE_A6
  RTS

MAPSetCHRBankActive:
  MMC3SetCHRBank #MMC3_CHR_BACKGROUND_A, #MMC3_STORE_B5
  MMC3SetCHRBank #MMC3_CHR_BACKGROUND_B, #MMC3_STORE_B6

  MMC3SetCHRBank #MMC3_CHR_SPRITE_A, #MMC3_STORE_B1
  RTS

MAPScanlineTrigger:
  STA $E000
  STA $C000
  STA $C001
  STA $E001
  CLI

  RTS